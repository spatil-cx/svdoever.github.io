---
title: Developing React components in Typescript with Sitecore JSS 9.1
date: '2019-01-29'
spoiler: At my company we use TypeScript for front-end development where possible. 
         In my first steps in using JSS I wanted to build my first component in TypeScript,
         which did not work out of the box. In this post I describe how I got ypeScript compilation working.
---

With [Sitecore JSS](https://jss.sitecore.net) you can scaffold a new Hero component using ```jss scaffold Hero```.
The scaffolder generates the new component in it's own folder ```src/components/Hero``` named ```index.js```.
The easy way to introduce TypeScript is described by my colleague Gary Wenneker in his blog post [Sitecore JSS: Get Typed!](https://gary.wenneker.org/sitecore-jss-get-typed/):
- rename the ```Hero.js``` to ```Hero.tsx```
- ```npm install typescript @types/node @types/react @types/react-dom```
- modify the ```tsconfig.json```
- run ```tsc --watch``` to compile the ```.ts``` and ```.tsx``` files to ```.js``` next to the source file

The JSS tooling picks up the ```.js``` component files in the script ```"start:watch-components": "node scripts/generate-component-factory.js --watch"``` for mapping the React components to JSS components. 

Problem with this approach that source tree is cluttered with generated ```.js``` files that are difficult to exclude from source control.

What I did was use the ```tsconfig.json``` as generated by ```create-react-app```:

```json
{
    "compilerOptions": {
      "target": "es5",
      "allowJs": false,
      "skipLibCheck": false,
      "esModuleInterop": true,
      "allowSyntheticDefaultImports": true,
      "strict": true,
      "forceConsistentCasingInFileNames": true,
      "module": "esnext",
      "moduleResolution": "node",
      "resolveJsonModule": true,
      "isolatedModules": true,
      "noEmit": true,
      "jsx": "preserve",
      "lib": ["es2018", "dom"],
    },
    "include": [
      "src"
    ],
    "types": ["node"]
  }
```

and modify the script ```scripts/generate-component-factory.js``` to pick up ```.ts``` and ```.tsx``` files so components can be written in both JavaScript and TypeScript:

```javascript
      fs.existsSync(path.join(componentFolderFullPath, 'index.js')) ||
      fs.existsSync(path.join(componentFolderFullPath, 'index.jsx')) ||
      fs.existsSync(path.join(componentFolderFullPath, 'index.ts')) || // highlight-line
      fs.existsSync(path.join(componentFolderFullPath, 'index.tsx')) // highlight-line
```
And this is just the first step... I will keep you posted.

Interesting stuff to investigate in this context:

- [FR: Generate Typescript Typings from Manifest](https://github.com/Sitecore/jss/issues/74)