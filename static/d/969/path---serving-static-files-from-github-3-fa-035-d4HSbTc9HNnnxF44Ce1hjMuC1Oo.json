{"data":{"site":{"siteMetadata":{"title":"Serge van den Oever's weblog","author":"Serge van den Oever"}},"markdownRemark":{"id":"ae19aaf2-d553-5cab-960d-ffcb3c4a148f","html":"<p>Sometimes there is the need to fetch the raw contents of a file from a GitHub repository. I have this case for a Markdown documentation file that I want to show in a web page. The url of this document is <code class=\"language-text\">https://github.com/macaw-interactive/react-jss-typescript-starter/blob/develop/README.md</code>. When you request this url you get the contents of the GitHub page. There is also a “raw” version of this page where you navigate to when you select the “Raw” tab on the page. This leads you to the url <code class=\"language-text\">https://raw.githubusercontent.com/macaw-interactive/react-jss-typescript-starter/develop/README.md</code>.</p>\n<p>When this raw document is requested from GitHub it returns the required content, but it has two drawbacks:</p>\n<ol>\n<li>A cached copy is returned, this cached copy is often older than the current version</li>\n<li>It returns the document with the incorrect content type: <code class=\"language-text\">text/plain; charset=utf-8</code> while it should be <code class=\"language-text\">text/markdown; charset=utf-8</code></li>\n</ol>\n<p>Both issues are very annoying when you are developing, and the second issue can be blocking for your purpose.</p>\n<p>In the past I used the services of <code class=\"language-text\">https://rawgit.com/</code> to overcome these issues, but they decided to stop their services as stated on their website: <em>RawGit has reached the end of its useful life</em>.</p>\n<p>On the website they propose some other services. I decided to check out <a href=\"https://www.jsdelivr.com/\">jsDeliver</a>. They even provide a service to <a href=\"https://www.jsdelivr.com/rawgit\">convert RawGit links to jsDeliver links</a>.</p>\n<p>With the jsDeliver service the required url looks like <code class=\"language-text\">https://cdn.jsdelivr.net/gh/macaw-interactive/react-jss-typescript-starter@develop/README.md</code>, and it provides the correct content type!</p>\n<p>But… it is cached on the CDN. What if the contents has changed? jsDelivr to the rescue: change the <code class=\"language-text\">cdn</code> to <code class=\"language-text\">purge</code> in the url and the next request you get a fresh copy. Easy way to automate that in your package.json scripts:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;purge:readme&quot;: &quot;npx req https://purge.jsdelivr.net/gh/macaw-interactive/react-jss-typescript-starter@develop/README.md&quot;</code></pre></div>","timeToRead":2,"frontmatter":{"title":"Serving static files from GitHub","date":"April 04, 2019","spoiler":"When you need to request files from GitHub with the correct mime-types GitHub itself is not the best place."},"fields":{"slug":"/serving_static_files_from_github/"}}},"pageContext":{"slug":"/serving_static_files_from_github/","previous":{"fields":{"slug":"/sitecore_jss_umbrella/"},"frontmatter":{"title":"Umbrella for Sitecore JSS"}},"next":{"fields":{"slug":"/_install-sitecore-91/"},"frontmatter":{"title":"Install Sitecore 9.1 in a breeze"}}}}